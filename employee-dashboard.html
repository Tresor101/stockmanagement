<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Dashboard - Hotel Stock Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/b8724cbb12.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <!-- Top Header -->
    <header class="top-header">
        <nav class="navbar-top">
            <div class="navbar-brand">
                <button class="btn-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
                <i class="fas fa-user-circle" id="departmentIcon"></i>
                <h3 id="departmentName">Employee Dashboard</h3>
            </div>
            
            <div class="navbar-user">
                <div class="navbar-actions">
                    <span class="datetime" id="datetime"></span>
                </div>
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <h5 id="userName">Employee</h5>
                        <span class="badge" id="userRole">Employee</span>
                    </div>
                </div>
                <button onclick="logout()" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </nav>
        
        <!-- Dynamic Navigation Menu -->
        <ul class="nav-menu" id="navMenu">
            <!-- Will be populated based on user role -->
        </ul>
    </header>

    <div class="main-content">
        <!-- Dashboard Section (Common for all roles) -->
        <div id="dashboard-section" class="content-section active">
            <div class="stats-grid" id="dashboardStats">
                <!-- Stats will be loaded dynamically -->
            </div>

            <div class="row mt-4" id="dashboardContent">
                <!-- Content will be loaded based on role -->
            </div>
        </div>

        <!-- Reception Module (Receptionist only) -->
        <div id="rooms-section" class="content-section role-module" data-role="receptionist">
            <div class="section-header">
                <h3><i class="fas fa-door-open"></i> Room Management</h3>
                <button class="btn btn-primary" onclick="EmployeeDashboard.openBookingModal()">
                    <i class="fas fa-user-plus"></i> Register Guest
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-bed"></i> Room Status & Bookings</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Room No.</th>
                                    <th>Room Type</th>
                                    <th>Rate/Night</th>
                                    <th>Guest Name</th>
                                    <th>Check-In</th>
                                    <th>Check-Out</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="roomsTableBody">
                                <!-- Rooms will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stock Module (Stock Person only) -->
        <div id="inventory-section" class="content-section role-module" data-role="stockperson">
            <div class="section-header">
                <h3><i class="fas fa-boxes"></i> Stock Inventory</h3>
                <button class="btn btn-primary" onclick="EmployeeDashboard.addStockItem()">
                    <i class="fas fa-plus"></i> Add Item
                </button>
            </div>
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Item Name</th>
                                    <th>Category</th>
                                    <th>Quantity</th>
                                    <th>Unit</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="stockInventoryTable">
                                <!-- Stock items will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bar Sales Module (Bartender only) -->
        <div id="sales-section" class="content-section role-module" data-role="bartender">
            <div class="section-header">
                <h3><i class="fas fa-cash-register"></i> Bar Sales</h3>
                <button class="btn btn-primary" onclick="EmployeeDashboard.openSaleModal()">
                    <i class="fas fa-plus"></i> Register Sale
                </button>
            </div>

            <!-- Sales Statistics -->
            <div class="stats-grid" id="barSalesStats">
                <!-- Sales stats will be loaded here -->
            </div>

            <!-- Sales Table -->
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h5><i class="fas fa-receipt"></i> Today's Sales Records</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Time</th>
                                            <th>Items</th>
                                            <th>Quantity</th>
                                            <th>Amount</th>
                                            <th>Payment Method</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="salesTableBody">
                                        <!-- Sales will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Request Section (All employees) -->
        <div id="requests-section" class="content-section">
            <div class="section-header">
                <h3><i class="fas fa-clipboard-list"></i> My Requests</h3>
                <button class="btn btn-primary" onclick="EmployeeDashboard.submitRequest()">
                    <i class="fas fa-plus"></i> Submit Request
                </button>
            </div>
            
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Details</th>
                                    <th>Status</th>
                                    <th>Reviewed By</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="requestsTableBody">
                                <!-- Requests will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dynamic Modals will be created by JavaScript -->

    <script src="js/auth.js"></script>
    <script src="js/api.js"></script>
    <script src="js/components.js"></script>
    <script src="js/employee-unified.js"></script>
</body>
</html>
